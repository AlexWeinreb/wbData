---
output: github_document
---


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# wbData


Easily download and use Wormbase data. Can be used to download or read the "geneIDs" table or the GTF files from Wormbase, and provides functions to convert between Wormbase IDs and gene symbols.

The three advantages are:

* finding files for any given Wormbase release (even though the actual path changes)
* keeping all these files in a single place
* facilitating common operations.

## Installation

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("AlexWeinreb/wbData")
```
## Example of gene ID conversion

To load the geneIDs table for Wormbase release WS277 and convert between gene ID and gene symbol:

```{r}
library(wbData)

gids <- wb_load_gene_ids("WS273")
s2i("unc-10", gids)
i2s(c("WBGene00006752", "WBGene00004412"), gids)
```


## Example reading gene coordinates

```{r}
gene_coords <- wbData::wb_load_gene_coords(273)
gene_coords
```

This can be used in conjunction with other packages, for example to look up a gene model in IGV or JBrowse:

```{r, eval=FALSE}
library(tidyverse)

gene_coords %>%
  filter(gene_id == s2i("unc-10", gids)) %>%
  pull(position)
  clipr::write_clip()
```


## Data management

The downloaded file is stored on the local computer to avoid re-downloading every time. That way, `wbData` can also be used to obtain Wormbase files to use with other software.

The cache directory can be specified in three ways:

* Explicitly by specifying a path as argument to the package functions.
* Through `option("wb_dir_cache")`. In that case leave the argument as `NULL`.
* If the `dir_cache` argument is `NULL` and the option is not specified, a user-specific cache directory is chosen based on the operating system by [rappdirs](https://github.com/r-lib/rappdirs/).

The cache can be emptied with:

```{r}
wb_clean_cache(273)
```

